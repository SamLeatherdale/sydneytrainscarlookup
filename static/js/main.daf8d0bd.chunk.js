(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,r){},16:function(t){t.exports={carnames:{ONL:{title:"Non-control motor + lavatory"},HMT:{title:"Control motor + toilet"},N:{title:"Non-control motor"},DIM:{title:"Control motor"},LE:{title:"Control motor + luggage area"},C:{title:"Control motor"},HM:{title:"Control motor"},DTC:{title:"Trailer"},DCF:{title:"Control motor"},DTF:{title:"Trailer"},DCM:{title:"Control motor"},DDC:{title:"Control motor"},D:{title:"Driving trailer"},DCT:{title:"Trailer"},DKM:{title:"Control motor"},OD:{title:"Driving trailer"},DKT:{title:"Trailer"},ON:{title:"Non-control motor"},T:{title:"Trailer"},TE:{title:"Control motor + toilet"},DIT:{title:"Trailer"},DJM:{title:"Control motor"}},sets:{H:{wiki:"NSW_TrainLink_H_set",tfnsw:"oscar-trains",name:"OSCAR"},K:{wiki:"Sydney_Trains_K_set",tfnsw:"k-set-trains",name:""},V:{wiki:"NSW_TrainLink_V_set",tfnsw:"v-set-trains",name:""},T:{wiki:"Sydney_Trains_T_set",tfnsw:"tangara-trains",name:"Tangara"},C:{wiki:"Sydney_Trains_C_set",tfnsw:"c-set-trains",name:""},A:{wiki:"Sydney_Trains_A_set",tfnsw:"waratah-trains",name:"Waratah (A series)"},Endeavour:{wiki:"New_South_Wales_Endeavour_railcar",tfnsw:"endeavour-trains",name:""},M:{wiki:"Sydney_Trains_M_set",tfnsw:"millennium-trains",name:"Millenium"},B:{wiki:"Sydney_Trains_A_set",tfnsw:"waratah-trains",name:"Waratah (B series)"},G:{wiki:"Sydney_Trains_T_set",tfnsw:"tangara-trains",name:"Tangara"},Hunter:{wiki:"New_South_Wales_Hunter_railcar",tfnsw:"hunter-trains",name:""},S:{wiki:"Sydney_Trains_S_set",tfnsw:"s-set-trains",name:""}},cars:{"A/T":{href:"#accordion-trailer-carriage-content",img:"waratah-3-trailer-carriage.jpg"},"A/N":{href:"#accordion-motor-carriage-content",img:"waratah-2-motor-carriage.jpg"},"Hunter/HM":{href:"#accordion-control-motor-carriage-content",img:"hunter-1-control-motor-carriage.jpg"},"T/D":{href:"#accordion-control-motor-carriage-content",img:"tangara-1-control-trailer-carriage.jpg"},"V/DCT":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"S/C":{href:"#accordion-control-motor-carriage-content",img:"sset-1-control-motor-carriage.jpg"},"K/C":{href:"#accordion-control-motor-carriage-content",img:"kset-1-control-motor-carriage.jpg"},"B/N":{href:"#accordion-motor-carriage-content",img:"waratah-2-motor-carriage.jpg"},"H/ONL":{href:"#accordion-motor-carriage-with-toilet-content",img:"oscar-3-motor-carriage-wtoilet.jpg"},"K/T":{href:"#accordion-trailer-carriage-content",img:"kset-2-trailer-carriage.jpg"},"M/N":{href:"#accordion-non-control-motor-carriage-content",img:"millenium-2-non-control-motor-carriage.jpg"},"H/ON":{href:"#accordion-motor-carriage-content",img:"oscar-2-motor-carriage.jpg"},"S/D":{href:"#accordion-control-motor-carriage-content",img:"sset-1-control-motor-carriage.jpg"},"V/DCF":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"B/T":{href:"#accordion-trailer-carriage-content",img:"waratah-3-trailer-carriage.jpg"},"V/DIT":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"V/DTC":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"M/D":{href:"#accordion-control-trailer-carriage-content",img:"millenium-1-control-trailer-carriage.jpg"},"C/C":{href:"#accordion-control-motor-content",img:"cset-1-control-motor-carriage.jpg"},"T/N":{href:"#accordion-motor-carriage-content",img:"tangara-2-motor-carriage.jpg"},"G/ONL":{href:"#accordion-motor-carriage-content",img:"tangara-2-motor-carriage.jpg"},"Endeavour/LE":{href:"#accordion-le-control-motor-carriage-with-luggage-area-content",img:"endeavour-2-control-motor-carriage-wluggage.jpg"},"G/ON":{href:"#accordion-motor-carriage-content",img:"tangara-2-motor-carriage.jpg"},"Endeavour/TE":{href:"#accordion-te-control-motor-carriage-with-toilet-content",img:"endeavour-1-control-motor-carriage-wtoilet.jpg"},"V/DKM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"G/OD":{href:"#accordion-control-motor-carriage-content",img:"tangara-1-control-trailer-carriage.jpg"},"A/D":{href:"#accordion-trailer-driving-carriage-content",img:"waratah-1-driving-carriage.jpg"},"K/D":{href:"#accordion-control-motor-carriage-content",img:"kset-1-control-motor-carriage.jpg"},"V/DDC":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"B/D":{href:"#accordion-trailer-driving-carriage-content",img:"waratah-1-driving-carriage.jpg"},"V/DIM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"C/T":{href:"#accordion-trailer-carriage-content",img:"cset-2-trailer-carriage.jpg"},"V/DCM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"Hunter/HMT":{href:"#accordion-motor-carriage-with-toilet-content",img:"hunter-2-control-motor-carriage-wtoilet.jpg"},"S/T":{href:"#accordion-trailer-carriage-content",img:"sset-2-trailer-carriage.jpg"},"V/DTF":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"V/DKT":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"H/OD":{href:"#accordion-control-trailer-carriage-content",img:"oscar-1-control-trailer-carriage.jpg"},"V/DJM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"}},ranges:{ONL:[{start:5951,set:"H",extra:"",letter:"ONL",end:5999},{start:5871,set:"H",extra:"",letter:"ONL",end:5876},{start:5851,set:"G",extra:"TG",letter:"ONL",end:5870}],HMT:[{start:2751,set:"Hunter",extra:"",letter:"HMT",end:2757}],N:[{start:5301,set:"A",extra:"",letter:"N",end:5380},{start:5401,set:"A",extra:"",letter:"N",end:5480},{start:5501,set:"A",extra:"",letter:"N",end:5580},{start:5601,set:"A",extra:"",letter:"N",end:5680},{start:1501,set:"M",extra:"",letter:"N",end:1573},{start:5101,set:"T",extra:"",letter:"N",end:5285},{start:5801,set:"T",extra:"TG",letter:"N",end:5820},{start:5851,set:"T",extra:"TG",letter:"N",end:5870},{start:1601,set:"B",extra:"",letter:"N",end:1624},{start:1701,set:"B",extra:"",letter:"N",end:1724},{start:1801,set:"B",extra:"",letter:"N",end:1824},{start:1901,set:"B",extra:"",letter:"N",end:1924}],DIM:[{start:8037,set:"V",extra:"VS3",letter:"DIM",end:8092},{start:8069,set:"V",extra:"VS4",letter:"DIM",end:8092}],LE:[{start:2851,set:"Endeavour",extra:"",letter:"LE",end:2865}],C:[{start:3581,set:"C",extra:"",letter:"C",end:3608},{start:3501,set:"K",extra:"",letter:"C",end:3580},{start:3805,set:"S",extra:"",letter:"C",end:3986},{start:3741,set:"S",extra:"",letter:"C",end:3765},{start:3001,set:"S",extra:"",letter:"C",end:3080}],HM:[{start:2701,set:"Hunter",extra:"",letter:"HM",end:2707}],DTC:[{start:9021,set:"V",extra:"VS1",letter:"DTC",end:9022}],DCF:[{start:8001,set:"V",extra:"VS1",letter:"DCF",end:8008}],DTF:[{start:9011,set:"V",extra:"VS1",letter:"DTF",end:9012}],DCM:[{start:8021,set:"V",extra:"VS2",letter:"DCM",end:8036}],DDC:[{start:9001,set:"V",extra:"VS1",letter:"DDC",end:9004}],D:[{start:6301,set:"A",extra:"",letter:"D",end:6380},{start:6401,set:"A",extra:"",letter:"D",end:6480},{start:1001,set:"M",extra:"",letter:"D",end:1073},{start:6101,set:"T",extra:"",letter:"D",end:6289},{start:6801,set:"T",extra:"TG",letter:"D",end:6841},{start:4096,set:"K",extra:"",letter:"D",end:4099},{start:4011,set:"S",extra:"",letter:"D",end:4095},{start:1101,set:"B",extra:"",letter:"D",end:1124},{start:1201,set:"B",extra:"",letter:"D",end:1224}],DCT:[{start:9031,set:"V",extra:"VS2",letter:"DCT",end:9044}],DKM:[{start:8139,set:"V",extra:"VS8",letter:"DKM",end:8145}],OD:[{start:6901,set:"H",extra:"",letter:"OD",end:6999},{start:6843,set:"H",extra:"",letter:"OD",end:6854},{start:6801,set:"G",extra:"TG",letter:"OD",end:6841}],DKT:[{start:9185,set:"V",extra:"VS8",letter:"DKT",end:9191}],ON:[{start:5901,set:"H",extra:"",letter:"ON",end:5949},{start:5821,set:"H",extra:"",letter:"ON",end:5826},{start:5801,set:"G",extra:"TG",letter:"ON",end:5820}],T:[{start:6501,set:"A",extra:"",letter:"T",end:6580},{start:6601,set:"A",extra:"",letter:"T",end:6680},{start:4247,set:"C",extra:"",letter:"T",end:4274},{start:4171,set:"K",extra:"",letter:"T",end:4246},{start:4101,set:"S",extra:"",letter:"T",end:4170},{start:4921,set:"S",extra:"",letter:"T",end:4987},{start:1301,set:"B",extra:"",letter:"T",end:1324},{start:1401,set:"B",extra:"",letter:"T",end:1424}],TE:[{start:2801,set:"Endeavour",extra:"",letter:"TE",end:2815}],DIT:[{start:9101,set:"V",extra:"VS3",letter:"DIT",end:9184},{start:9115,set:"V",extra:"VS4",letter:"DIT",end:9138},{start:9139,set:"V",extra:"VS5",letter:"DIT",end:9154},{start:9155,set:"V",extra:"VS6",letter:"DIT",end:9169},{start:9170,set:"V",extra:"VS7",letter:"DIT",end:9184}],DJM:[{start:8093,set:"V",extra:"VS5",letter:"DJM",end:8108},{start:8109,set:"V",extra:"VS6",letter:"DJM",end:8123},{start:8124,set:"V",extra:"VS7",letter:"DJM",end:8138}]},extras:{VS1:{info:"This car is a Series 1 V set. There were 8 different series of V sets manufactured. All Series 1 V sets were scrapped after rust was found in the steel frames.  See the Wikipedia article for more info."},TG:{info:"This car was originally a G set that was converted to a T set as part of a refurbish started in 2009. See the Wikipedia article for more info."},VS:{info:"This car is a Series $1 V set. There were 8 different series of V sets manufactured. See the Wikipedia article for more info."}}}},17:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),o=r(8),i=r.n(o),s=(r(14),r(3)),c=r(5),l=r(4),g=r(6),d=r(1),m=r(2),u=r(16),h=/^([A-Z]{0,3})?([0-9]{4})$/,f=function t(){Object(m.a)(this,t),this.queryLetter="",this.queryNumber=0,this.fuzzy=[],this.extraInfo="",this.similarRanges=[]},p=function t(){Object(m.a)(this,t),this.carId="",this.showError=!1,this.searchResult=new f},w=function(t){function e(t){var r;return Object(m.a)(this,e),(r=Object(c.a)(this,Object(l.a)(e).call(this,t))).data=u,r.state=new p,r.onChangeCarId=r.onChangeCarId.bind(Object(d.a)(Object(d.a)(r))),r.onFormSubmit=r.onFormSubmit.bind(Object(d.a)(Object(d.a)(r))),r.onClickSuggestion=r.onClickSuggestion.bind(Object(d.a)(Object(d.a)(r))),r}return Object(g.a)(e,t),Object(s.a)(e,[{key:"componentWillMount",value:function(){}},{key:"onChangeCarId",value:function(t){var e=t.target;this.setState({carId:e.value})}},{key:"onFormSubmit",value:function(t){t.preventDefault(),this.performSearch(this.state.carId)}},{key:"onClickSuggestion",value:function(t){var e=t.target.dataset.carid;this.setState({carId:e}),this.performSearch(e)}},{key:"performSearch",value:function(t){var e={},r=this.searchId(t);console.log(r),e.showError=!r,e.searchResult=r,this.setState(e)}},{key:"searchId",value:function(t){var e=t.match(h),r=new f;if(null===e)return!1;r.queryLetter=e[1],r.queryNumber=parseInt(e[2]);var a=this.data.ranges[r.queryLetter];if("undefined"!==typeof a){var n=!0,o=!1,i=void 0;try{for(var s,c=a[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;if(x(r.queryNumber,l)){r.exact=l;break}}}catch(E){o=!0,i=E}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}}else for(var g=Object.keys(this.data.ranges),d=0;d<g.length;d++){var m=g[d],u=this.data.ranges[m],p=!0,w=!1,v=void 0;try{for(var T,y=u[Symbol.iterator]();!(p=(T=y.next()).done);p=!0){var D=T.value;if(x(r.queryNumber,D)){r.fuzzy.push(D);break}}}catch(E){w=!0,v=E}finally{try{p||null==y.return||y.return()}finally{if(w)throw v}}}if(!r.exact&&0===r.fuzzy.length)return null;if(r.exact){var S=r.exact;r.car=this.data.cars[S.set+"/"+r.queryLetter];var b=!0,C=!1,j=void 0;try{for(var N,V=a[Symbol.iterator]();!(b=(N=V.next()).done);b=!0){var k=N.value;k.set==r.exact.set&&r.similarRanges.push(k)}}catch(E){C=!0,j=E}finally{try{b||null==V.return||V.return()}finally{if(C)throw j}}if(""!==S.extra){var _=this.data.extras[S.extra];"undefined"!==typeof _?r.extraInfo=_.info:0===S.extra.indexOf("VS")&&(r.extraInfo=this.data.extras.VS.info.replace("$1",S.extra.substring(2)))}}return r}},{key:"render",value:function(){var t=this,e=this.state.searchResult.exact,r=this.state.showError?{}:{display:"none"},a=!this.state.searchResult.exact&&this.state.searchResult.fuzzy.length>0?{}:{display:"none"};return n.a.createElement("div",null,n.a.createElement(v,{value:this.state.carId,onChangeInput:this.onChangeCarId,onSubmit:this.onFormSubmit}),n.a.createElement("div",{className:"alert alert-danger",role:"alert",style:r},"Sorry, we couldn't find any cars with that ID."),n.a.createElement("div",{className:"alert alert-warning",role:"alert",style:a},"We couldn't find an exact match for that ID, here are some suggestions."),n.a.createElement("div",{className:"btn-container"},this.state.searchResult&&this.state.searchResult.fuzzy.map(function(e){var r=e.letter+t.state.searchResult.queryNumber;return n.a.createElement("button",{key:e.letter,type:"button",className:"btn btn-info",onClick:t.onClickSuggestion,"data-carid":r},r)})),e&&n.a.createElement("div",{id:"results"},n.a.createElement("h3",null,n.a.createElement("span",{id:"carSet"},e.set," set"),n.a.createElement("span",null," - "),n.a.createElement("span",{id:"carName"},this.data.carnames[e.letter].title)),n.a.createElement("h4",{id:"carRanges"},this.state.searchResult.similarRanges.map(function(t){return t.letter+t.start+"-"+t.end}).join(", ")),n.a.createElement("p",{id:"carInfo"},this.state.searchResult.extraInfo),n.a.createElement("img",{id:"carImg",className:"mb-2",src:"//transportnsw.info/sites/default/files/styles/wysiwyg_large_1140/public/image/2018/04/"+this.state.searchResult.car.img}),n.a.createElement("div",{className:"btn-container"},n.a.createElement("a",{className:"btn btn-info",id:"car_wiki",target:"_blank",href:"//en.wikipedia.org/wiki/"+this.data.sets[e.set].wiki},"View more on Wikipedia"),n.a.createElement("a",{className:"btn btn-info",id:"car_tfnsw",target:"_blank",href:"//transportnsw.info/travel-info/ways-to-get-around/train/fleet-facilities/"+this.data.sets[e.set].tfnsw+this.state.searchResult.car.href},"View more on Sydney Trains"))))}}]),e}(a.Component),v=function(t){function e(){return Object(m.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return n.a.createElement("form",{className:"mb-4",onSubmit:this.props.onSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"carId"},"Car Number: "),n.a.createElement("input",{className:"form-control",id:"carId",type:"text",value:this.props.value,onChange:this.props.onChangeInput,required:!0})),n.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Search"}))}}]),e}(a.Component);function x(t,e){return t>=e.start&&t<=e.end}var T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var r=t.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}i.a.render(n.a.createElement(w,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/sydneytrainscarlookup",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/sydneytrainscarlookup","/service-worker.js");T?(function(t,e){fetch(t).then(function(r){var a=r.headers.get("content-type");404===r.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):y(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):y(e,t)})}}()},9:function(t,e,r){t.exports=r(17)}},[[9,2,1]]]);
//# sourceMappingURL=main.daf8d0bd.chunk.js.map