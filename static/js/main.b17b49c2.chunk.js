(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t){t.exports={carnames:{ONL:{title:"Non-control motor + lavatory"},HMT:{title:"Control motor + toilet"},N:{title:"Non-control motor"},DIM:{title:"Control motor"},LE:{title:"Control motor + luggage area"},C:{title:"Control motor"},HM:{title:"Control motor"},DTC:{title:"Trailer"},DCF:{title:"Control motor"},DTF:{title:"Trailer"},DCM:{title:"Control motor"},DDC:{title:"Control motor"},D:{title:"Driving trailer"},DCT:{title:"Trailer"},DKM:{title:"Control motor"},OD:{title:"Driving trailer"},DKT:{title:"Trailer"},ON:{title:"Non-control motor"},T:{title:"Trailer"},TE:{title:"Control motor + toilet"},DIT:{title:"Trailer"},DJM:{title:"Control motor"}},sets:{H:{wiki:"NSW_TrainLink_H_set",tfnsw:"oscar-trains",name:"OSCAR"},K:{wiki:"Sydney_Trains_K_set",tfnsw:"k-set-trains",name:""},V:{wiki:"NSW_TrainLink_V_set",tfnsw:"v-set-trains",name:""},T:{wiki:"Sydney_Trains_T_set",tfnsw:"tangara-trains",name:"Tangara"},C:{wiki:"Sydney_Trains_C_set",tfnsw:"c-set-trains",name:""},A:{wiki:"Sydney_Trains_A_set",tfnsw:"waratah-trains",name:"Waratah (A series)"},Endeavour:{wiki:"New_South_Wales_Endeavour_railcar",tfnsw:"endeavour-trains",name:""},M:{wiki:"Sydney_Trains_M_set",tfnsw:"millennium-trains",name:"Millenium"},B:{wiki:"Sydney_Trains_A_set",tfnsw:"waratah-trains",name:"Waratah (B series)"},G:{wiki:"Sydney_Trains_T_set",tfnsw:"tangara-trains",name:"Tangara"},Hunter:{wiki:"New_South_Wales_Hunter_railcar",tfnsw:"hunter-trains",name:""},S:{wiki:"Sydney_Trains_S_set",tfnsw:"s-set-trains",name:""}},cars:{"A/T":{href:"#accordion-trailer-carriage-content",img:"waratah-3-trailer-carriage.jpg"},"A/N":{href:"#accordion-motor-carriage-content",img:"waratah-2-motor-carriage.jpg"},"Hunter/HM":{href:"#accordion-control-motor-carriage-content",img:"hunter-1-control-motor-carriage.jpg"},"T/D":{href:"#accordion-control-motor-carriage-content",img:"tangara-1-control-trailer-carriage.jpg"},"V/DCT":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"S/C":{href:"#accordion-control-motor-carriage-content",img:"sset-1-control-motor-carriage.jpg"},"K/C":{href:"#accordion-control-motor-carriage-content",img:"kset-1-control-motor-carriage.jpg"},"B/N":{href:"#accordion-motor-carriage-content",img:"waratah-2-motor-carriage.jpg"},"H/ONL":{href:"#accordion-motor-carriage-with-toilet-content",img:"oscar-3-motor-carriage-wtoilet.jpg"},"K/T":{href:"#accordion-trailer-carriage-content",img:"kset-2-trailer-carriage.jpg"},"M/N":{href:"#accordion-non-control-motor-carriage-content",img:"millenium-2-non-control-motor-carriage.jpg"},"H/ON":{href:"#accordion-motor-carriage-content",img:"oscar-2-motor-carriage.jpg"},"S/D":{href:"#accordion-control-motor-carriage-content",img:"sset-1-control-motor-carriage.jpg"},"V/DCF":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"B/T":{href:"#accordion-trailer-carriage-content",img:"waratah-3-trailer-carriage.jpg"},"V/DIT":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"V/DTC":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"M/D":{href:"#accordion-control-trailer-carriage-content",img:"millenium-1-control-trailer-carriage.jpg"},"C/C":{href:"#accordion-control-motor-content",img:"cset-1-control-motor-carriage.jpg"},"T/N":{href:"#accordion-motor-carriage-content",img:"tangara-2-motor-carriage.jpg"},"G/ONL":{href:"#accordion-motor-carriage-content",img:"tangara-2-motor-carriage.jpg"},"Endeavour/LE":{href:"#accordion-le-control-motor-carriage-with-luggage-area-content",img:"endeavour-2-control-motor-carriage-wluggage.jpg"},"G/ON":{href:"#accordion-motor-carriage-content",img:"tangara-2-motor-carriage.jpg"},"Endeavour/TE":{href:"#accordion-te-control-motor-carriage-with-toilet-content",img:"endeavour-1-control-motor-carriage-wtoilet.jpg"},"V/DKM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"G/OD":{href:"#accordion-control-motor-carriage-content",img:"tangara-1-control-trailer-carriage.jpg"},"A/D":{href:"#accordion-trailer-driving-carriage-content",img:"waratah-1-driving-carriage.jpg"},"K/D":{href:"#accordion-control-motor-carriage-content",img:"kset-1-control-motor-carriage.jpg"},"V/DDC":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"B/D":{href:"#accordion-trailer-driving-carriage-content",img:"waratah-1-driving-carriage.jpg"},"V/DIM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"C/T":{href:"#accordion-trailer-carriage-content",img:"cset-2-trailer-carriage.jpg"},"V/DCM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"},"Hunter/HMT":{href:"#accordion-motor-carriage-with-toilet-content",img:"hunter-2-control-motor-carriage-wtoilet.jpg"},"S/T":{href:"#accordion-trailer-carriage-content",img:"sset-2-trailer-carriage.jpg"},"V/DTF":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"V/DKT":{href:"#accordion-trailer-carriage-content",img:"vset-2-trailer-carriage.jpg"},"H/OD":{href:"#accordion-control-trailer-carriage-content",img:"oscar-1-control-trailer-carriage.jpg"},"V/DJM":{href:"#accordion-control-motor-carriage-content",img:"vset-1-control-trailer-carriage.jpg"}},ranges:{ONL:[{start:5951,set:"H",extra:"",letter:"ONL",end:5999},{start:5871,set:"H",extra:"",letter:"ONL",end:5876},{start:5851,set:"G",extra:"TG",letter:"ONL",end:5870}],HMT:[{start:2751,set:"Hunter",extra:"",letter:"HMT",end:2757}],N:[{start:5301,set:"A",extra:"",letter:"N",end:5380},{start:5401,set:"A",extra:"",letter:"N",end:5480},{start:5501,set:"A",extra:"",letter:"N",end:5580},{start:5601,set:"A",extra:"",letter:"N",end:5680},{start:1501,set:"M",extra:"",letter:"N",end:1573},{start:5101,set:"T",extra:"",letter:"N",end:5285},{start:5801,set:"T",extra:"TG",letter:"N",end:5820},{start:5851,set:"T",extra:"TG",letter:"N",end:5870},{start:1601,set:"B",extra:"",letter:"N",end:1624},{start:1701,set:"B",extra:"",letter:"N",end:1724},{start:1801,set:"B",extra:"",letter:"N",end:1824},{start:1901,set:"B",extra:"",letter:"N",end:1924}],DIM:[{start:8037,set:"V",extra:"VS3",letter:"DIM",end:8092},{start:8069,set:"V",extra:"VS4",letter:"DIM",end:8092}],LE:[{start:2851,set:"Endeavour",extra:"",letter:"LE",end:2865}],C:[{start:3581,set:"C",extra:"",letter:"C",end:3608},{start:3501,set:"K",extra:"",letter:"C",end:3580},{start:3805,set:"S",extra:"",letter:"C",end:3986},{start:3741,set:"S",extra:"",letter:"C",end:3765},{start:3001,set:"S",extra:"",letter:"C",end:3080}],HM:[{start:2701,set:"Hunter",extra:"",letter:"HM",end:2707}],DTC:[{start:9021,set:"V",extra:"VS1",letter:"DTC",end:9022}],DCF:[{start:8001,set:"V",extra:"VS1",letter:"DCF",end:8008}],DTF:[{start:9011,set:"V",extra:"VS1",letter:"DTF",end:9012}],DCM:[{start:8021,set:"V",extra:"VS2",letter:"DCM",end:8036}],DDC:[{start:9001,set:"V",extra:"VS1",letter:"DDC",end:9004}],D:[{start:6301,set:"A",extra:"",letter:"D",end:6380},{start:6401,set:"A",extra:"",letter:"D",end:6480},{start:1001,set:"M",extra:"",letter:"D",end:1073},{start:6101,set:"T",extra:"",letter:"D",end:6289},{start:6801,set:"T",extra:"TG",letter:"D",end:6841},{start:4096,set:"K",extra:"",letter:"D",end:4099},{start:4011,set:"S",extra:"",letter:"D",end:4095},{start:1101,set:"B",extra:"",letter:"D",end:1124},{start:1201,set:"B",extra:"",letter:"D",end:1224}],DCT:[{start:9031,set:"V",extra:"VS2",letter:"DCT",end:9044}],DKM:[{start:8139,set:"V",extra:"VS8",letter:"DKM",end:8145}],OD:[{start:6901,set:"H",extra:"",letter:"OD",end:6999},{start:6843,set:"H",extra:"",letter:"OD",end:6854},{start:6801,set:"G",extra:"TG",letter:"OD",end:6841}],DKT:[{start:9185,set:"V",extra:"VS8",letter:"DKT",end:9191}],ON:[{start:5901,set:"H",extra:"",letter:"ON",end:5949},{start:5821,set:"H",extra:"",letter:"ON",end:5826},{start:5801,set:"G",extra:"TG",letter:"ON",end:5820}],T:[{start:6501,set:"A",extra:"",letter:"T",end:6580},{start:6601,set:"A",extra:"",letter:"T",end:6680},{start:4247,set:"C",extra:"",letter:"T",end:4274},{start:4171,set:"K",extra:"",letter:"T",end:4246},{start:4101,set:"S",extra:"",letter:"T",end:4170},{start:4921,set:"S",extra:"",letter:"T",end:4987},{start:1301,set:"B",extra:"",letter:"T",end:1324},{start:1401,set:"B",extra:"",letter:"T",end:1424}],TE:[{start:2801,set:"Endeavour",extra:"",letter:"TE",end:2815}],DIT:[{start:9101,set:"V",extra:"VS3",letter:"DIT",end:9184},{start:9115,set:"V",extra:"VS4",letter:"DIT",end:9138},{start:9139,set:"V",extra:"VS5",letter:"DIT",end:9154},{start:9155,set:"V",extra:"VS6",letter:"DIT",end:9169},{start:9170,set:"V",extra:"VS7",letter:"DIT",end:9184}],DJM:[{start:8093,set:"V",extra:"VS5",letter:"DJM",end:8108},{start:8109,set:"V",extra:"VS6",letter:"DJM",end:8123},{start:8124,set:"V",extra:"VS7",letter:"DJM",end:8138}]},extras:{VS1:{info:"This car is a Series 1 V set. There were 8 different series of V sets manufactured. All Series 1 V sets were scrapped after rust was found in the steel frames.  See the Wikipedia article for more info."},TG:{info:"This car was originally a G set that was converted to a T set as part of a refurbish started in 2009. See the Wikipedia article for more info."},VS:{info:"This car is a Series $1 V set. There were 8 different series of V sets manufactured. See the Wikipedia article for more info."}}}},15:function(t,e,r){},17:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),o=r(8),i=r.n(o),s=r(3),c=r(5),l=r(4),d=r(6),g=r(1),u=r(2),m=r(14),h=/^([A-Z]{0,3})?([0-9]{4})?$/,f=function t(){Object(u.a)(this,t),this.queryLetter="",this.queryNumber=0,this.fuzzy=[],this.extraInfo="",this.similarRanges=[]},v=function t(){Object(u.a)(this,t),this.carId="",this.showError=!1,this.searchResult=new f},p=function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(c.a)(this,Object(l.a)(e).call(this,t))).data=m,r.state=new v,r.onChangeCarId=r.onChangeCarId.bind(Object(g.a)(Object(g.a)(r))),r.onFormSubmit=r.onFormSubmit.bind(Object(g.a)(Object(g.a)(r))),r.onFormReset=r.onFormReset.bind(Object(g.a)(Object(g.a)(r))),r.onClickSuggestion=r.onClickSuggestion.bind(Object(g.a)(Object(g.a)(r))),r}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentWillMount",value:function(){}},{key:"onChangeCarId",value:function(t){var e=t.target.value.replace(/[^A-Z\d]/i,"").toUpperCase();this.setState({carId:e}),this.performSearch(e)}},{key:"onFormSubmit",value:function(t){t.preventDefault()}},{key:"onFormReset",value:function(t){this.setState({carId:""}),this.performSearch("")}},{key:"onClickSuggestion",value:function(t){var e=t.target.dataset.carid;this.setState({carId:e}),this.performSearch(e)}},{key:"performSearch",value:function(t){var e={},r=this.searchId(t);e.showError=!r&&""!==t,r||(r=new f),e.searchResult=r,this.setState(e)}},{key:"searchId",value:function(t){var e=t.match(h),r=new f;if(null===e)return null;r.queryLetter=e[1],r.queryNumber=parseInt(e[2]);var a=this.data.ranges[r.queryLetter];if("undefined"!==typeof a){var n=!0,o=!1,i=void 0;try{for(var s,c=a[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;if(w(r.queryNumber,l)){r.exact=l;break}}}catch(S){o=!0,i=S}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}}if(!r.exact){var d=[];r.queryNumber&&(d=this.getFuzzyByNumber(r.queryNumber)),r.queryLetter&&(d=d.concat(this.getFuzzyByLetter(r.queryLetter))),r.fuzzy=d}if(!r.exact&&0===r.fuzzy.length)return null;if(r.exact){var g=r.exact;r.car=this.data.cars[g.set+"/"+r.queryLetter];var u=!0,m=!1,v=void 0;try{for(var p,y=a[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var x=p.value;x.set==r.exact.set&&r.similarRanges.push(x)}}catch(S){m=!0,v=S}finally{try{u||null==y.return||y.return()}finally{if(m)throw v}}if(""!==g.extra){var T=this.data.extras[g.extra];"undefined"!==typeof T?r.extraInfo=T.info:0===g.extra.indexOf("VS")&&(r.extraInfo=this.data.extras.VS.info.replace("$1",g.extra.substring(2)))}}return r}},{key:"getFuzzyByNumber",value:function(t){for(var e=[],r=Object.keys(this.data.ranges),a=0;a<r.length;a++){var n=r[a],o=this.data.ranges[n],i=!0,s=!1,c=void 0;try{for(var l,d=o[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var g=l.value;if(w(t,g)){e.push(g);break}}}catch(u){s=!0,c=u}finally{try{i||null==d.return||d.return()}finally{if(s)throw c}}}return e}},{key:"getFuzzyByLetter",value:function(t){var e=[],r={},a={},n=!0,o=!1,i=void 0;try{for(var s,c=x(Object.keys(this.data.ranges))[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;if(-1!==l.indexOf(t)){var d=this.data.ranges[l],g=!0,u=!1,m=void 0;try{for(var h,f=d[Symbol.iterator]();!(g=(h=f.next()).done);g=!0){var v=h.value;r[v.set]&&a[l]||(e.push(v),r[v.set]=!0,a[l]=!0)}}catch(p){u=!0,m=p}finally{try{g||null==f.return||f.return()}finally{if(u)throw m}}}}}catch(p){o=!0,i=p}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return e}},{key:"generateSuggestions",value:function(){var t=[],e={},r=!0,a=!1,n=void 0;try{for(var o,i=x(Object.keys(this.data.ranges))[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=this.data.ranges[s],l=!0,d=!1,g=void 0;try{for(var u,m=c[Symbol.iterator]();!(l=(u=m.next()).done);l=!0){var h=u.value;e[h.set]||(t.push(h),e[h.set]=!0)}}catch(f){d=!0,g=f}finally{try{l||null==m.return||m.return()}finally{if(d)throw g}}}}catch(f){a=!0,n=f}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return t.slice(0,12)}},{key:"render",value:function(){var t=this,e=this.state.searchResult.exact,r=""==this.state.carId,a=r?this.generateSuggestions():this.state.searchResult.fuzzy;return n.a.createElement("div",null,n.a.createElement(y,{value:this.state.carId,onChangeInput:this.onChangeCarId,onSubmit:this.onFormSubmit,onReset:this.onFormReset}),this.state.showError&&n.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Sorry, we couldn't find any cars with that ID."),!r&&!this.state.searchResult.exact&&this.state.searchResult.fuzzy.length>0&&n.a.createElement("div",{className:"alert alert-warning",role:"alert"},"We couldn't find an exact match for that ID, here are some suggestions."),r&&n.a.createElement("div",{className:"alert alert-primary",role:"alert"},"Try some of these suggestions if you're not on a train right now."),n.a.createElement("div",{id:"suggestionBtnContainer"},a.map(function(e){var a,o,i=e.letter+(!r&&t.state.searchResult.queryNumber?t.state.searchResult.queryNumber:(a=e.start,o=e.end+1,a=Math.ceil(a),o=Math.floor(o),Math.floor(Math.random()*(o-a))+a));return n.a.createElement("button",{key:i,type:"button",className:"btn btn-info",onClick:t.onClickSuggestion,"data-carid":i},i)})),e&&n.a.createElement("div",{id:"results"},n.a.createElement("h3",null,n.a.createElement("span",{id:"carSet"},e.set," set"),n.a.createElement("span",null," - "),n.a.createElement("span",{id:"carName"},this.data.carnames[e.letter].title)),n.a.createElement("h4",{id:"carRanges"},this.state.searchResult.similarRanges.map(function(t){return t.letter+t.start+"-"+t.end}).join(", ")),n.a.createElement("p",{id:"carInfo"},this.state.searchResult.extraInfo),n.a.createElement("img",{id:"carImg",className:"mb-2",src:"images/"+this.state.searchResult.car.img}),n.a.createElement("div",{className:"btn-container","data-cols":"2"},n.a.createElement("a",{className:"btn btn-info",id:"carWiki",target:"_blank",href:"//en.wikipedia.org/wiki/"+this.data.sets[e.set].wiki},"View more on Wikipedia"),n.a.createElement("a",{className:"btn btn-info",id:"carTfnsw",target:"_blank",href:"//transportnsw.info/travel-info/ways-to-get-around/train/fleet-facilities/"+this.data.sets[e.set].tfnsw+this.state.searchResult.car.href},"View more on Sydney Trains"))))}}]),e}(a.Component),y=function(t){function e(){return Object(u.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return n.a.createElement("form",{className:"mb-4",onSubmit:this.props.onSubmit,onReset:this.props.onReset},n.a.createElement("div",{className:"input-group mb-2"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},"Car Number: ")),n.a.createElement("input",{className:"form-control",id:"carId",type:"text",value:this.props.value,onChange:this.props.onChangeInput,required:!0}),""!==this.props.value&&n.a.createElement("div",{className:"input-group-append"},n.a.createElement("input",{className:"btn btn-danger",type:"reset",value:"Clear"}))))}}]),e}(a.Component);function w(t,e){return t>=e.start&&t<=e.end}function x(t){for(var e,r,a=t.length;0!==a;)r=Math.floor(Math.random()*a),e=t[a-=1],t[a]=t[r],t[r]=e;return t}var T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var r=t.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}r(15);i.a.render(n.a.createElement(p,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/sydneytrainscarlookup",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/sydneytrainscarlookup","/service-worker.js");T?(function(t,e){fetch(t).then(function(r){var a=r.headers.get("content-type");404===r.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):S(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):S(e,t)})}}()},9:function(t,e,r){t.exports=r(17)}},[[9,2,1]]]);
//# sourceMappingURL=main.b17b49c2.chunk.js.map